<div *ngIf="!!project">
    <form [formGroup]="grp">
        <table class="inputable">
            <tr>
                <td colspan="2">
                    <mat-form-field>
                        <mat-label>Intitulé du projet</mat-label>
                        <input matInput type="text" [formControlName]="ENTITLED_KEY" (change)="onChange(ENTITLED_KEY)">
                        <mat-icon matSuffix *ngIf="externalVersion" color="primary"
                        [matTooltip]="ENTITLED_TOOLTIP" [matTooltipPosition]="TOOLTIP_POS">{{TOOLTIP_ICON}}</mat-icon>
                    </mat-form-field>
                </td>
                <td rowspan="3" *ngIf="project.picture" style="padding: 0; margin: 0; width: 300px;"><img height="300px" [src]="srcPic" alt="Image"></td>
            </tr>
            <tr>
                <td colspan="2">
                    <mat-form-field>
                        <mat-label>Description</mat-label>
                        <textarea matInput maxlength="1000" type="text" [formControlName]="DESCRIPTION_KEY" (change)="onChange(DESCRIPTION_KEY)"></textarea>
                        <mat-icon matSuffix *ngIf="externalVersion" color="primary"
                        [matTooltip]="DESCRIPTION_TOOLTIP" [matTooltipPosition]="TOOLTIP_POS">{{TOOLTIP_ICON}}</mat-icon>
                    </mat-form-field>
                </td>
            </tr>
            <tr>
                <td>
                    <mat-form-field>
                        <mat-label>Début</mat-label>
                        <input matInput type="date" [formControlName]="BEGIN_KEY" (blur)="onChange(BEGIN_KEY)">
                        <mat-icon matSuffix *ngIf="externalVersion" color="primary"
                        [matTooltip]="BEGIN_TOOLTIP" [matTooltipPosition]="TOOLTIP_POS">{{TOOLTIP_ICON}}</mat-icon>
                    </mat-form-field>
                </td>
                <td>
                    <mat-form-field>
                        <mat-label>Fin</mat-label>
                        <input matInput type="date" [formControlName]="END_KEY" (blur)="onChange(END_KEY)">
                        <mat-icon matSuffix *ngIf="externalVersion" color="primary"
                        [matTooltip]="END_TOOLTIP" [matTooltipPosition]="TOOLTIP_POS">{{TOOLTIP_ICON}}</mat-icon>
                    </mat-form-field>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <label class="file-upload" (change)="selectFile($event)">
                        <input type="file" accept="image/*" style="display: none;">
                        {{currentFileRealName}}
                    </label>
                    <button mat-button [disabled]="!selectedFiles" (click)="upload()">Charger le fichier</button>
                </td>
            </tr>
        </table>
    </form>
    <table class="inputable">
        <tr>
            <td><app-skill-tags [project]="project" 
                    (addSkillEvent)="addSkillEvent.emit($event)"
                    (removeSkillEvent)="removeSkillEvent.emit($event)"></app-skill-tags></td>
        </tr>
    </table>
    
    <button *ngIf="canBeDeteled" color="warn"  mat-button (click)="onDelete()">Retirer ce projet</button>
</div>
